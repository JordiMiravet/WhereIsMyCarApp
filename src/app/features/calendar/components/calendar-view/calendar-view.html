<section class="calendar__actions">
    <app-create-button
        (click)="handleCreateEvent()"
        [createText]="'Event'"
    ></app-create-button>
    <app-vehicle-selector
        [vehicles]="vehicleService.vehicles()"
        (vehicleSelected)="handleVehicleSelected($event)"
    ></app-vehicle-selector>
</section>

<section class="calendar__container">
    <full-calendar
        #calendar
        [options]="calendarOptions"
    ></full-calendar>
</section>

@if (isEventModalOpen()) {
    <app-day-events-modal
        [events]="selectedDayEvents()"
        [date]="selectedDate()"
        (createEvent)="handleCreateEvent()"
        (editEvent)="handleEditEvent($event)"
        (deleteEvent)="handleDeleteEvent($event)"
        (closeModal)="isEventModalOpen.set(false)"
    ></app-day-events-modal>
}

@if (isEventFormModalOpen()) {
    <app-event-form-modal
        [preselectedDate]="selectedDate()"
        [preselectedEvent]="editingEvent()"
        (close)="isEventFormModalOpen.set(false)"
    ></app-event-form-modal>
}

@if (isConfirmModalOpen()) {
    <app-confirm-modal
        [title]="confirmModalMsg().title"
        [message]="confirmModalMsg().message"
        (confirm)="confirmDeleteEvent()"
        (cancel)="cancelDeleteEvent()"
    ></app-confirm-modal>
}